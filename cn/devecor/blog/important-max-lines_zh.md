# 函数为什么需要具体的行数限制?

选择linter还是代码审查

## 背景和问题陈述

使用lint限制函数长度来让函数保持短小，实际操作中lint的不断抱怨令人恼怒

### 假设

1. 函数应该做一件事情，做好这件事，只做这一件事
2. 过长函数是坏味道
3. ~~函数的第一要义是短小~~ （可能存在争议）

### 挑战

1. 什么是一件事情？
2. 多长的函数是可接受的？
3. 代码仍可能在悄悄的腐坏

## 提议

提案1: 每日代码审查

提案2: lint限制行数

## 分析

**提案1**：

- 对防止陷入泥潭有积极作用
- 每天都有可能讨论（争论？） “什么是一件事情” 这件事，团队形成一个统一的认知之路坎坷
- 标准可能在潜移默化的松动，而不是我们有意识且有准备的放松限制

**提案2**：

- 始终是一个统一的范围性标准
- 团队可以根据实际情况更改这个标准
- 某些情况需要手动将特定函数排除在lint规则之外
- 允许的max-lines越大，收益就越小

## 结论

选择**提案2**，因为将函数限制在一定的行数内，能够拉齐大家的认知并长久保持，并且能够容易的有计划的有准备的根据实际情况改变标准限制。为了这一目的，我们接受：

1. 有少量warning存在的事实
2. code review中达成一致后，手动将特定函数排除在lint规则之外

## 相关链接

1. [eslint disabling rules](https://eslint.org/docs/latest/user-guide/configuring/rules#disabling-rules)
